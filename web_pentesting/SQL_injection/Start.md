##### MySQL
```
mysql -u root -p'root' -h 192.168.50.16 -P 3306
```
might have to add --ssl=0 flag **
simple command to connect to a mySQL server(99% of the time they will run on port 3306)
some commands you can run once in:
```
select version();

select system_user();

show databases;
next
USE database_name;
next
SHOW TABLES;

SELECT user, host, plugin FROM mysql.user;
or if using mysql TABLE
SELECT user, host, plugin FROM user;

ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'YourPassword';
FLUSH PRIVILEGES;
```

note - The _root_ user in this example is the database-specific root user, not the system-wide administrative root user.

```
SELECT user, authentication_string FROM mysql.user WHERE user = 'offsec';
```
This gets the user and pass from the user table for the user 'offsec'

---

##### MSSQL

mainly for windows**

Kali Linux includes [_Impacket_](https://github.com/SecureAuthCorp/impacket), a Python framework that enables network protocol interactions. Among many other protocols, it supports [_Tabular Data Stream_](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-tds/893fcc7e-8a39-4b3c-815a-773b7b982c50/) (TDS), the protocol adopted by MSSQL that is implemented in the _impacket-mssqlclient_ tool.

```
impacket-mssqlclient Administrator:Lab123@192.168.50.18 -windows-auth
```

common commands:
```
SELECT @@version;

SELECT name FROM sys.databases;

SELECT * FROM offsec.information_schema.tables;

USE database_name;
GO
SELECT table_name FROM information_schema.tables  ** shows what tables in used db

SQL (SQLPLAYGROUND\Administrator  dbo@master)> SELECT * FROM offsec.information_schema.tables;
TABLE_CATALOG   TABLE_SCHEMA   TABLE_NAME   TABLE_TYPE   
-------------   ------------   ----------   ----------   
offsec          dbo            users        b'BASE TABLE' 

select * from offsec.dbo.users;

SELECT column_name, data_type FROM information_schema.columns WHERE table_name = 'table_name';
```

NOTE - When using an SQL Server command line tool like sqlcmd, we must submit our SQL statement ending with a semicolon followed by _GO_ on a separate line. However, when running the command remotely, we can omit the GO statement since it's not part of the MSSQL TDS protocol.

_master_, _tempdb_, _model_, and _msdb_ are default databases aka might not have useful info

---


**maybe helpful
**📌 Essential MySQL & MSSQL Commands for OSCP**

**🔥 MySQL Commands**

  

**🔎 Enumeration & Discovery**

```
SELECT VERSION();                   -- Get MySQL version
SELECT USER();                      -- Show current user
SELECT DATABASE();                   -- Show the selected database
SHOW DATABASES;                      -- List all databases
USE database_name;                   -- Select a database
SHOW TABLES;                         -- List all tables in the selected database
DESCRIBE table_name;                 -- Show table structure (columns and types)
SHOW COLUMNS FROM table_name;        -- Alternative way to see table schema
```

**🔍 Data Extraction**

```
SELECT * FROM table_name;            -- Dump all rows from a table
SELECT column1, column2 FROM table_name;  -- Select specific columns
SELECT * FROM table_name WHERE column_name = 'value';  -- Filtered search
```

**⚡ Privilege Escalation & Credentials Extraction**

```
SELECT host, user, authentication_string FROM mysql.user;  -- Show MySQL users & password hashes
SELECT LOAD_FILE('/etc/passwd');   -- Try to read local system files
```

**🔁 Dumping & Restoring Data**

```
mysqldump -u root -p database_name > backup.sql    # Dump database
mysql -u root -p database_name < backup.sql        # Restore database
```



**🔥 MSSQL Commands (Microsoft SQL Server)**

**🔎 Enumeration**

```
SELECT @@version;                  -- Get SQL Server version
SELECT SUSER_NAME();               -- Show current user
SELECT IS_SRVROLEMEMBER('sysadmin');  -- Check if user has admin privileges
SELECT name FROM sys.databases;    -- List all databases
USE database_name;                 -- Select a database
SELECT name FROM database_name.sys.tables;  -- List all tables in a database
SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME='table_name';  -- List columns of a table
```

**🔍 Data Extraction**

```
SELECT * FROM table_name;              -- View all data in a table
SELECT column1, column2 FROM table_name;  -- Select specific data
SELECT * FROM table_name WHERE column_name = 'value';  -- Filtered search
```

**⚡ Privilege Escalation & Exploitation**

```
EXEC sp_configure 'show advanced options', 1;  
RECONFIGURE;  
EXEC sp_configure 'xp_cmdshell', 1;  
RECONFIGURE;  
xp_cmdshell 'whoami';  -- Execute system command (if xp_cmdshell is enabled)
```

**📤 Exfiltrating Hashes**

```
SELECT name, password_hash FROM sys.sql_logins;  -- Dump password hashes
```

**💣 Dumping All Data**

```
EXEC sp_MSforeachtable 'SELECT * FROM ?';
```

**🛑 Delete a Database/Table (Use with caution!)**

```
DROP DATABASE database_name;
DROP TABLE table_name;
```

**💀 OSCP Tips**

1. **Use mysql -u root -p** or **mssqlclient.py** (from Impacket) to connect to MySQL/MSSQL remotely.

2. **Extract credentials** and check for reused passwords across services.

3. **Look for stored procedures or enabled xp_cmdshell** to escalate privileges.

4. **Leverage LOAD_FILE() and xp_cmdshell for local file reading & command execution.**

5. **Always check database permissions using SHOW GRANTS FOR user;** in MySQL.

These commands should cover **90% of OSCP scenarios** related to **database exploitation**. Let me know if you need more! 🚀
